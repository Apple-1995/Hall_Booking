<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CIHSR Hall Booking System</title>
  <link rel="icon" href="https://concihsr.in/wp-content/uploads/2024/10/CON-logo-small.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <div class="logo">
        <img src="https://concihsr.in/wp-content/uploads/2024/10/CON-logo-small.png" alt="CIHSR Logo">
        <div class="logo-text">
          <h1>CIHSR</h1>
          <span>Hall Booking System</span>
        </div>
      </div>
      <nav>
        <a href="#" class="nav-link active" data-target="home">
          <i class="fas fa-calendar-plus"></i> Book Room
        </a>
        <a href="#" class="nav-link" data-target="events">
          <i class="fas fa-calendar-alt"></i> Events
        </a>
        <a href="#" class="nav-link" data-target="admin-login" id="admin-nav">
          <i class="fas fa-user-shield"></i> Admin
        </a>
        <a href="#" id="logout-btn" style="display:none;">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="main-content">
    <!-- Booking Section -->
    <section id="home" class="content active">
      <h2><i class="fas fa-bookmark"></i> Book a Room</h2>
      <form id="bookingForm">
        <label>Event Name <input type="text" id="eventName" required></label>
        <label>Department <input type="text" id="department" required></label>
        <label>Start Date <input type="date" id="startDate" required></label>
        <label>End Date <input type="date" id="endDate" required></label>
        <label>Start Time <input type="time" id="startTime" required></label>
        <label>End Time <input type="time" id="endTime" required></label>
        <label>Participants <input type="number" id="participants" value="1" min="1"></label>
        <label>Notes <textarea id="notes"></textarea></label>

        <h3><i class="fas fa-door-open"></i> Select Rooms</h3>
        <div id="roomsContainer" class="rooms-grid"></div>

        <button type="button" id="bookingButton" class="btn-primary">
          <i class="fas fa-paper-plane"></i> Submit Booking
        </button>
      </form>
      <div id="bookingResult"></div>
    </section>

    <!-- Events -->
    <section id="events" class="content">
      <h2><i class="fas fa-calendar-alt"></i> Approved Events</h2>
      <div id="eventsList" class="events-grid"></div>
    </section>

    <!-- Admin Login -->
    <section id="admin-login" class="content">
      <h2><i class="fas fa-user-shield"></i> Admin Login</h2>
      <input type="text" id="adminUsername" placeholder="Username">
      <input type="password" id="adminPassword" placeholder="Password">
      <button id="adminLoginButton" class="btn-primary"><i class="fas fa-sign-in-alt"></i> Login</button>
      <p id="adminLoginError" class="error" style="display:none;">Invalid credentials</p>
    </section>

    <!-- Admin Dashboard -->
    <section id="admin" class="content">
      <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
      <div class="stats-cards">
        <div><strong>Pending:</strong> <span id="pendingCount">0</span></div>
        <div><strong>Approved:</strong> <span id="approvedCount">0</span></div>
        <div><strong>Total Rooms:</strong> <span id="totalRooms">0</span></div>
      </div>

      <!-- Add Room Form -->
      <div class="admin-add-room">
        <h3><i class="fas fa-plus-circle"></i> Add New Room</h3>
        <input type="text" id="newRoomName" placeholder="Enter room name">
        <button id="addRoomButton" class="btn-success"><i class="fas fa-plus"></i> Add Room</button>
        <p id="addRoomMessage"></p>
      </div>

      <!-- Pending Requests -->
      <h3>Pending Requests</h3>
      <table>
        <thead>
          <tr><th>Event</th><th>Rooms</th><th>Date</th><th>Time</th><th>Dept</th><th>Actions</th></tr>
        </thead>
        <tbody id="pendingRequests"></tbody>
      </table>

      <!-- Approved -->
      <h3>Approved Bookings</h3>
      <table>
        <thead>
          <tr><th>Event</th><th>Rooms</th><th>Date</th><th>Time</th><th>Dept</th><th>Actions</th></tr>
        </thead>
        <tbody id="approvedBookings"></tbody>
      </table>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 CIHSR Hall Booking System</p>
  </footer>

  <!-- Script -->
  <script src="/static/app.js"></script>
</body>
</html>
